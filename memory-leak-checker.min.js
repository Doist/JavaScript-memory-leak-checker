(function(e){"use strict";var t=false,n;n={uniq_id:String((new Date).getTime()),checked:1,is_seen:[],enableLogException:function(e){t=e===true?true:false},log:function(){var t,n,r;if(e.console&&e.console.log){if(e.console.log.apply){e.console.log.apply(e.console,arguments)}else{t=[];r=arguments.length;for(n=0;n<r;n+=1){t[n]=arguments[n]}e.console.log(t)}}},checkLeaks:function(e){var t,r,i;if(!e||typeof e==="function"||n.checked>2e4){return}if(n.isArray(e)||n.isObject(e)){if(n.isArray(e)){n.logTooBig(e,e.length);i=e.length;for(r=0;r<i;r+=1){n.checkIfNeeded(e[r])}}else if(n.isObject(e)){n.logTooBig(e,n.getKeys(e).length);for(t in e){if(e.hasOwnProperty(t)){n.checkIfNeeded(e[t])}}}}},checkIfNeeded:function(r){if(!r){return}n.checked+=1;if(n.isArray(r)||n.isObject(r)){if((r.x_leaks_checked||"")===n.uniq_id){return}try{r.x_leaks_checked=n.uniq_id}catch(i){if(t===true){n.log(r,i)}}e.setTimeout(n.partial(n.checkLeaks,r),5)}},logTooBig:function(e,t){if(t>200){n.log("Object too big, memory leak? [size: "+t+"]");n.log(e);n.log("-------")}},getKeys:function(e){var t=[],n;for(n in e){if(e.hasOwnProperty(n)){t.push(n)}}return t},isArray:function(e){try{return e instanceof Array}catch(t){return false}},isObject:function(e){return typeof e==="object"},partial:function(t){var n=Array.prototype.slice.call(arguments);n.shift();return function(){var r=Array.prototype.slice.call(arguments);n=n.concat(r);return t.apply(e,n)}}};e.MemoryLeakChecker=n})(window);
